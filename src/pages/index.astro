---
import Base from '../layouts/Base.astro';
import YouTubeEmbed from '../components/YouTubeEmbed.astro';
import VideoCard from '../components/VideoCard.astro';
import NewsletterForm from '../components/NewsletterForm.astro';
import videos from '../data/videos.json';

const latestVideo = videos[0];
const recentVideos = videos.slice(1, 7);
---

<Base
  title="VillageFive: Disaster Documentaries"
  description="VillageFive is a YouTube channel focused on disaster documentaries. Forgotten disasters, survivor stories, and the events that changed history."
>
  <!-- Hero -->
  <section class="hero-atmo corner-brackets">
    <div class="container">
      <div class="hero-eyebrow">The Stories History Left Behind</div>
      <h1 class="hero-title">VILLAGE<em>FIVE</em></h1>
      <p class="hero-sub">
        Forgotten disasters, survivor stories, and the catastrophic events that changed history. New documentaries every week.
      </p>
      <div class="hero-actions">
        <a
          class="btn btn-primary btn-xl"
          href="https://www.youtube.com/@villagefive?sub_confirmation=1"
          target="_blank"
          rel="noopener noreferrer"
        >
          Subscribe on YouTube
        </a>
        <a
          class="btn btn-secondary btn-xl"
          href="#latest-video"
        >
          Watch Latest
        </a>
      </div>
      <div class="hero-story">
        <p>
          Thousands of disasters have shaped the world we live in today. Earthquakes that leveled entire cities. Floods that killed hundreds of thousands. Explosions that wiped towns off the map. Most of them never made it into a textbook.
        </p>
        <p>
          VillageFive covers the disasters that history forgot: the ones too devastating to ignore, but somehow overlooked. Every week, a new documentary brings one of these stories back to light through research, real accounts, and the details that got buried over time.
        </p>
        <p>
          From the 1889 Johnstown Flood to the 2026 Ice Storm, these aren't just tragedies. They're warnings.
        </p>
      </div>
    </div>
  </section>

  <!-- Stats Bar -->
  <section class="stats-bar">
    <div class="container">
      <div class="stats-row">
        <div class="stat">
          <span class="stat-number">2,200+</span>
          <span class="stat-label">Subscribers</span>
        </div>
        <div class="stat">
          <span class="stat-number">680+</span>
          <span class="stat-label">Videos</span>
        </div>
        <div class="stat">
          <span class="stat-number">50+</span>
          <span class="stat-label">Disasters Covered</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Latest Video -->
  <section class="section-wrap" id="latest-video">
    <div class="container">
      <div class="section-header">
        <h2>Latest Video</h2>
        <p>Most recent upload</p>
      </div>
      <YouTubeEmbed videoId={latestVideo.id} title={latestVideo.title} />
    </div>
  </section>

  <!-- Recent Videos -->
  <section class="section-wrap">
    <div class="container">
      <div class="section-header">
        <h2>Recent Videos</h2>
        <p>From the archive</p>
      </div>
      <div class="video-grid">
        {recentVideos.map(video => (
          <VideoCard
            id={video.id}
            title={video.title}
            publishDate={video.publishDate}
            thumbnail={video.thumbnail}
          />
        ))}
      </div>
    </div>
  </section>

  <!-- Newsletter CTA -->
  <section class="section-wrap">
    <div class="container">
      <NewsletterForm />
    </div>
  </section>
</Base>

<style>
  /* ── Atmospheric Hero ───────────────────────────────────── */
  .hero-atmo {
    padding: var(--space-16) 0 var(--space-12);
    position: relative;
    overflow: hidden;
    background:
      /* Grid lines */
      repeating-linear-gradient(
        0deg,
        transparent,
        transparent 39px,
        rgba(232,66,10,0.06) 39px,
        rgba(232,66,10,0.06) 40px
      ),
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 39px,
        rgba(232,66,10,0.06) 39px,
        rgba(232,66,10,0.06) 40px
      ),
      /* Ember glow center */
      radial-gradient(
        ellipse 60% 50% at 50% 40%,
        rgba(232,66,10,0.15) 0%,
        rgba(232,66,10,0.04) 50%,
        transparent 80%
      ),
      /* Dark vignette */
      radial-gradient(
        ellipse 80% 70% at 50% 50%,
        transparent 30%,
        rgba(13,13,13,0.6) 100%
      ),
      var(--surface-base);
  }

  .hero-story {
    max-width: 600px;
    margin-top: var(--space-10);
    border-top: 1px solid var(--border-subtle);
    padding-top: var(--space-8);
  }

  .hero-story p {
    font-family: var(--font-body);
    font-size: var(--type-sm);
    color: var(--text-secondary);
    line-height: var(--lh-relaxed);
    margin-bottom: var(--space-4);
  }

  .hero-story p:last-child {
    margin-bottom: 0;
  }

  /* ── Stats Bar ──────────────────────────────────────────── */
  .stats-bar {
    padding: var(--space-8) 0;
    border-top: 1px solid var(--border-subtle);
    border-bottom: 1px solid var(--border-subtle);
  }

  .stats-row {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-6);
    text-align: center;
  }

  .stat-number {
    display: block;
    font-family: var(--font-display);
    font-size: var(--type-2xl);
    color: var(--ember-400);
    letter-spacing: var(--ls-wide);
    line-height: 1;
    margin-bottom: var(--space-1);
  }

  .stat-label {
    font-family: var(--font-condensed);
    font-size: var(--type-sm);
    color: var(--text-tertiary);
    letter-spacing: var(--ls-wide);
    text-transform: uppercase;
  }
</style>
